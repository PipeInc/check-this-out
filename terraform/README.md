# Terraform

The documentation below has been generated by `terraform-docs`. 

In resume, all the resources below will be created by terraform, except for the module `cdn`.

## Scaling globally

As a Proof-Of-Concept, a basic [Cloudfront](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Introduction.html) distribuion could be created to distribute the website content globally.

What it changes?

The **AWS Cloudfront** improve the speed for download the content of yout website by adding a cache layer and distributing the content globally to the edge proxy servers.
Also a security layer is also added by using a SSL certificate (coudfront default) delivering your content throught HTTPS protocol.

![Cloudfront](image.svg)

For a **production** environment, some changes should be considered, such as:
- A Route53 custom DNS
- A Custom SSL certificate
- Restrictive S3 Bucket policy, block public access and allow request from cloudfront only.

<!-- BEGIN_TF_DOCS -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.1.4 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | ~> 3.72.0 |
| <a name="requirement_null"></a> [null](#requirement\_null) | 3.1.0 |
| <a name="requirement_random"></a> [random](#requirement\_random) | 3.1.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | 3.72.0 |
| <a name="provider_null"></a> [null](#provider\_null) | 3.1.0 |
| <a name="provider_random"></a> [random](#provider\_random) | 3.1.0 |

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_cdn"></a> [cdn](#module\_cdn) | terraform-aws-modules/cloudfront/aws | 2.9.2 |
| <a name="module_s3-host-bucket"></a> [s3-host-bucket](#module\_s3-host-bucket) | terraform-aws-modules/s3-bucket/aws | 2.13.0 |

## Resources

| Name | Type |
|------|------|
| [null_resource.deployment](https://registry.terraform.io/providers/hashicorp/null/3.1.0/docs/resources/resource) | resource |
| [random_pet.this](https://registry.terraform.io/providers/hashicorp/random/3.1.0/docs/resources/pet) | resource |
| [aws_canonical_user_id.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/canonical_user_id) | data source |
| [aws_iam_policy_document.allow_public_access](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_aws_tags"></a> [aws\_tags](#input\_aws\_tags) | AWS tags to be used in all resources | `map(string)` | <pre>{<br>  "git": "https://github.com/MrKoopaKiller/",<br>  "owner": "MrKoopaKiller",<br>  "project": "Check-this-out"<br>}</pre> | no |
| <a name="input_cdn"></a> [cdn](#input\_cdn) | If true, a cloudfront distribution will be create. It adds the ability to scale to the world, by caching and optimizing costs. | `bool` | `false` | no |
| <a name="input_deploy"></a> [deploy](#input\_deploy) | If true, terrafor will use null\_resource to run a local awscli command to deploy the website content in S3. | `bool` | `true` | no |
| <a name="input_profile"></a> [profile](#input\_profile) | AWS profile | `string` | `"default"` | no |
| <a name="input_region"></a> [region](#input\_region) | AWS Region | `string` | `"us-east-1"` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_cdn_url"></a> [cdn\_url](#output\_cdn\_url) | CDN endpoint for the website |
| <a name="output_website_url"></a> [website\_url](#output\_website\_url) | Endpoint for the website |
<!-- END_TF_DOCS -->